md-dialog
  form(name="RegistrationForm", novalidate)
    md-toolbar.md-toolbar-tools
      h2.md-display-2 Create User
      span(flex)
      md-button.md-icon-button(ng-click="cancel()")
        md-icon(aria-label="Close dialog") close

    md-content.md-dialog-content
      md-input-container
        label Name
        md-icon perm_identity
        input(name="name", type="text", ng-model="model.name", required)

      md-input-container
        label E-Mail
        md-icon email
        input(name="email", type="email", ng-model="model.email", required, nf-reset-on-change="emailAvailable")
        div(ng-messages="RegistrationForm.email.$error", md-auto-hide="true")
          div(ng-message="emailAvailable").
            This e-mail address is already registred

      md-input-container
        label Password
        md-icon lock_outline
        input(name="password", type="password", ng-model="model.password", required)

      md-input-container
        label Repeat Password
        md-icon lock_outline
        input(name="passwordRepeat", type="password", ng-model="model.passwordRepeat", required, nf-should-equal="model.password")
        div(ng-messages="RegistrationForm.passwordRepeat.$error", md-auto-hide="true")
          div(ng-message="nfShouldEqual").
            The two passwords do not match


      md-input-container
        md-tooltip.unrestrict-height(md-direction="Bottom")
          h4
            b Access ID
          p
            u ASE/ENG & AAMS students
            span :&nbsp;
            i Studienummer
          p
            u ASE/ENG/AU Navitas employees
            span :&nbsp;
            i AUID nr.
          p
            u AAMS employees
            span :&nbsp;
            i AAMS initials
          p
            u INCUBA
            span :&nbsp;
            i KeyToken nr.

        label
          span Access ID
          md-icon(style="font-size: 16px;") info_outline

        md-icon perm_identity
        input(name="accessId", ng-model="model.accessId", required)

      md-input-container
        md-checkbox(name="termsAccepted", ng-model="termsAccepted", ng-required="true") You must accept the terms

    md-dialog-actions
      md-button(ng-click="cancel()") Cancel
      md-button.md-primary(ng-disabled="RegistrationForm.$invalid", type="submit", ng-click="submit()") Create
