doctype html
html(ng-app="NavitasFitness")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes")
    meta(http-equiv="X-UA-Compatible" content="IE=edge,chrome=1")

    base(href="/")
    title Navitas-Fitness

    link(rel="shortcut icon" href="/favicon.ico")

    script(src="/libs/es6-shim/es6-shim.min.js")

    script(src="libs/systemjs/dist/system.src.js")
    script(src="/app.js")
    script.
      // set our baseURL reference path
      const angularModules = [
        'angular-cookies',
        'angular-aria',
        'angular-animate',
        'angular-messages',
        'angular-material'
      ];
      window.CKEDITOR_BASEPATH = '/libs/ckeditor/';
      let systemjsConfig = {
        meta: {
          'angular': { format: 'global', exports: 'angular' },
          'rxjs': { format: 'global', exports: 'Rx' },
          'angular-ui-router': { format: 'global', exports: 'angular', deps: [ 'angular' ] },
        },
        baseURL: '/',
        map: {
          'angular': '/libs/angular/angular.js',
          'angular-ui-router': '/libs/angular-ui-router/release/angular-ui-router.js',
          'rxjs': '/libs/rxjs/bundles/Rx.js',
          'ckeditor': CKEDITOR_BASEPATH +'ckeditor.js',
        }
      };

      angularModules.forEach(function(module) {
          systemjsConfig.meta[module] = { format: 'global', exports: 'angular', deps: [ 'angular' ] };
          systemjsConfig.map[module] = '/libs/' + module + '/' + module + '.js';
        });

      System.config(systemjsConfig);

      angularModules.forEach(function(module) {
        System.import(module);
      });

      System.import('angular-ui-router');
      System.import('ckeditor');

      System.import('NavitasFitnessModule');


    link(href="https://fonts.googleapis.com/icon?family=Material+Icons", rel="stylesheet")

    link(rel="stylesheet" href="/libs/angular-material/angular-material.min.css")
    link(rel="stylesheet" href="/main.css")

    style(type="text/css").
        /**
         * Hide when Angular is not yet loaded and initialized
         */
        [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
          display: none !important;
        }

  body
    app-component

